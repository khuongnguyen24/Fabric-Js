<!DOCTYPE html>
<html>

<head>
  <title>Animation canvas</title>
  <script src="fabric.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
</head>

<body>
  <div style="margin: 10px;" class="container d-flex justify-content-center">
    <button style="margin-right: 10px;" class="btn btn-secondary" id="start">Start</button>
    <button style="margin-left: 10px;" class="btn btn-secondary" id="">Stop</button>
    <button style="margin-left: 10px;" class="btn btn-secondary" id="">Speed</button>
    <button style="margin-left: 10px;" class="btn btn-secondary" id="">Slow</button>
  </div>
  <canvas class="container" id="canvas" width="1000" height="1000"></canvas>

  <script type="text/javascript">
    var canvas = new fabric.Canvas('canvas');
    fabric.loadSVGFromURL('/default.svg', function (objects, options) {
      var svgObject = fabric.util.groupSVGElements(objects, options);
      // svgObject.scale(0.5);
      canvas.add(svgObject);
      // console.log(svgObject.getObjects());

      var groupEyes1 = svgObject.getObjects()[8];//long-trang
      var groupEyes2 = svgObject.getObjects()[9];//long-nau
      var groupEyes3 = svgObject.getObjects()[10];//long-den
      var groupEyes4 = svgObject.getObjects()[11];//vanh-sang
      var groupEyes5 = svgObject.getObjects()[12];//long-mi
      var groupEyes6 = svgObject.getObjects()[13];//quang-tham
      var groupEyes7 = svgObject.getObjects()[14];//bong-trang
      var groupEyes8 = svgObject.getObjects()[15];//long-may

      // Tạo một mảng chứa các đối tượng groupEyes
      var groupEyes = [groupEyes1, groupEyes2, groupEyes3, groupEyes4, groupEyes5, groupEyes6, groupEyes7, groupEyes8];
      // console.log(groupEyes)
      var bboxgroupEyes1 = groupEyes1.getBoundingRect();
      // console.log(bboxgroupEyes1)
      var centerX = bboxgroupEyes1.left + bboxgroupEyes1.width / 2;
      var centerY = bboxgroupEyes1.top + bboxgroupEyes1.height / 2;
      // console.log(centerX, centerY)

      // Tạo một hình hộp bao quanh (bounding box)
      var boundingBox = new fabric.Rect({
        left: groupEyes1.left, // Lấy thuộc tính left của groupEyes1
        top: groupEyes1.top, // Lấy thuộc tính top của groupEyes1
        width: groupEyes5.width, // Tính toán chiều rộng của bounding box
        height: groupEyes8.height + groupEyes1.height + groupEyes6.height // Tính toán chiều cao của bounding box
      });
      console.log(boundingBox)

      // var eyesGroup = new fabric.Group(groupEyes, {
      //   left: boundingBox.left,
      //   top: boundingBox.top
      // });
    })
  </script>
</body>

</html>